<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
</head>
<body>
<script>
  // Lấy query từ URL
  const params = new URLSearchParams(window.location.search);
  const pass = params.get('pass');
  const v1 = params.get('v1') || '';
  const v2 = params.get('v2') || '';

  // Tạo thẻ <pre> để xuất JSON thuần
  const pre = document.createElement('pre');
  document.body.appendChild(pre);

  if (!pass) {
    pre.textContent = JSON.stringify({
      error: "Missing 'pass' parameter. Use: ?pass=yourpass&v1=value1&v2=value2"
    }, null, 2);
  } else {
    const hashed = CryptoJS.MD5(pass).toString();

    const response = {
      params: {
        pass: '[hidden]',
        v1: v1,
        v2: v2
      },
      result: hashed,
      status: 'success'
    };

    pre.textContent = JSON.stringify(response, null, 2);
  }
</script>
</body>
</html>
